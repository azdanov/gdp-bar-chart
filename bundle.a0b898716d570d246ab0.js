!function(t){function a(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,a),n.l=!0,n.exports}var e={};a.m=t,a.c=e,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},a.p="",a(a.s=0)}([function(t,a,e){t.exports=e(1)},function(t,a,e){"use strict";function r(t,a){var e=[],r=!0,n=!1,o=void 0;try{for(var c,l=t[Symbol.iterator]();!(r=(c=l.next()).done)&&(e.push(c.value),!a||e.length!==a);r=!0);}catch(t){n=!0,o=t}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}return e}function n(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return r(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(t){return t<3?"Q1":t<6?"Q2":t<9?"Q3":"Q4"}e(2);var c=d3.select("svg"),l={top:30,right:30,bottom:40,left:60},i=+c.attr("width")-l.left-l.right,s=+c.attr("height")-l.top-l.bottom,u=d3.timeParse("%Y-%m-%d"),p=d3.bisector(function(t){return t.year}).left,d=d3.scaleTime().range([0,i]),f=d3.scaleLinear().range([s,0]),y=d3.line().x(function(t){return d(t.year)}).y(function(t){return f(t.value)}),v=c.append("g").attr("transform","translate(".concat(l.left,",").concat(l.top,")"));d3.json("https://cdn.rawgit.com/azdanov/gdp-line-chart/19384513/src/data/data.json",function(t,a){function e(){g?(x.style("display","none"),h.style("display","none")):(x.style("display",null),h.style("display","inline")),g=!g}function r(){var t=d.invert(d3.mouse(this)[0]),a=p(m,t,1),e=m[a-1],r=m[a],n=t-e.year>r.year-t?r:e;x.attr("transform","translate(".concat(d(n.year),", ").concat(f(n.value),")")),h.select(".quantity").text(function(){return"".concat(n.value)}),h.select(".year").text(function(){return"".concat(o(n.year.getMonth())," ").concat(n.year.getFullYear())}),h.style("left","".concat(d3.event.pageX-30,"px")).style("top","".concat(d3.event.pageY-30,"px")),x.select(".x-hover-line").attr("y2",s-f(n.value)),x.select(".y-hover-line").attr("x2",-d(n.year))}if(t)throw t;var m=a.data.map(function(t){var a=n(t,2),e=a[0],r=a[1];return{year:u(e),value:r}});d.domain(d3.extent(m,function(t){return t.year})),f.domain([0,1.005*d3.max(m,function(t){return t.value})]),v.append("g").attr("class","grid").attr("transform","translate(0, ".concat(s,")")).call(d3.axisBottom(d).tickSize(-i/2).tickFormat("")),v.append("g").attr("class","grid").call(d3.axisLeft(f).tickSize(2*-s).tickFormat("")),v.append("g").attr("class","axis axis--x").attr("transform","translate(0, ".concat(s,")")).call(d3.axisBottom(d)),v.append("g").attr("class","axis axis--y").call(d3.axisLeft(f).ticks(7,"$,.0s")),v.append("path").datum(m).attr("class","line").attr("d",y);var x=v.append("g").attr("class","focus").style("display","none");x.append("line").attr("class","x-hover-line hover-line").attr("y1",0).attr("y2",s),x.append("line").attr("class","y-hover-line hover-line").attr("x1",0).attr("x2",i),x.append("circle").attr("r",5);var h=d3.select("body").append("div").attr("class","tooltip").style("display","none");h.append("p").attr("class","quantity"),h.append("p").attr("class","year");var g=!1;c.append("rect").attr("transform","translate(".concat(l.left,",").concat(l.top,")")).attr("class","overlay").attr("width",i).attr("height",s).on("mousemove",r).on("click",e)})},function(t,a){}]);
//# sourceMappingURL=bundle.a0b898716d570d246ab0.js.map